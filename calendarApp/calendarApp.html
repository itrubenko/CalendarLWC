<template>
  <div class="slds-card calendar" style="position: relative;" onsave={saveEvent}>
    <c-calendar-header
      active-date={activeDate}
      show-quick-add={showQuickAdd}
      month={currentMonth}
      events={events}
      onprev={prevMonth}
      onnext={nextMonth}
      ontoday={goToday}
      onadd={openQuickAdd}
      onsearch={handleSearch}
      onclose={closeQuickAdd}
      onsuggestselect={handleSuggestSelect}>
    </c-calendar-header>

    <c-calendar-month
      month={currentMonth}
      events={events}
      onselectday={selectDay}>
    </c-calendar-month>

    <template if:true={showPopover}>
      <div style={popoverStyle}>
        <c-event-popover
          event={activeEvent}
          date={activeDate}
          is-global-popover={isGlobalPopover}
          ondelete={deleteEvent}
          onclose={closePopover}>
        </c-event-popover>
      </div>
    </template>

  </div>
</template>
